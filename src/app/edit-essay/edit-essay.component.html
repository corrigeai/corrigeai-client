<div class="backdrop" [ngStyle]="{'display': display}"></div>
<div class="modal" role="dialog" [ngStyle]="{'display': display}">
    <div class="container modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-label="Close" (click)="onEndSubmission()"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title text-center">Editar Redação</h2>
            </div>
                    <div class="row">
                            <div class="col-xs-1"></div>
                            <div class="col-xs-10">
                                    <form class="fields" [formGroup]="editEssayForm" (ngSubmit)="submitForm(editEssayForm.value)">
                                            <div class="modal-body" >
                                            <h3>Título</h3>
                                            <div class="form-group">
                                              <input [ngClass]="{'has-error': !editEssayForm.controls['title'].valid && editEssayForm.controls['title'].touched,
                                                                         'touched': editEssayForm.controls['title'].touched }" class="form-control" type="text"
                                                placeholder="Seu Título" [formControl]="editEssayForm.controls['title']">
                                            </div>
                              
                                            <h3>Tema</h3>
                                            <div class="form-group">
                                              <input [ngClass]="{'has-error': !editEssayForm.controls['theme'].valid && editEssayForm.controls['title'].touched,
                                                                           'touched': editEssayForm.controls['theme'].touched }" class="form-control" type="text"
                                                placeholder="Seu Tema" [formControl]="editEssayForm.controls['theme']">
                                            </div>                
                      
                                            <h3>Conteúdo</h3>
                                            <div class="form-group">
                                                    <img  [src]="imagePath"
                                                            class="thumbnail"
                                                            onerror="this.src='../../assets/no_image.png'" 
                                                            alt="Essay"/>                                                
                                                    <input type="file"
                                                           (change)="onFileChange($event)">
                                            </div> 
                                            <div class="form-group">
                                                  <textarea class="form-control" 
                                                  rows="10" 
                                                  id="comment"
                                                  [formControl]="editEssayForm.controls['essayText']"></textarea>
                                            </div>
                                            <div class="row">&nbsp;</div> 
                                        </div>                           
                                            <div class="modal-footer">
                                                <div class="col-xs-2"></div>
                                                <div class="col-xs-8">
                                                    <button 
                                                    class="btn btn-block btn-danger" type="submit"
                                                    [ngClass]="{'disabled': !editEssayForm.valid}" 
                                                    [disabled]='!editEssayForm.valid'>Submeter Redação</button>
                                                </div>
                                                <div class="col-xs-2"></div>
                                                    
                                            </div>                      
                                          </form>
                                        </div>
                                        <div class="col-xs-1">&nbsp;</div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->